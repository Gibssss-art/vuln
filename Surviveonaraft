-- Gibssss Hub | Unknown
-- Clean FPS script with Luna UI

local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebulla-Softworks/Luna-Interface-Suite/main/source.lua"))()

local Window = Luna:CreateWindow({
    Name = "Gibssss Hub | ",
    LoadingTitle = "Gibssss Hub",
    LoadingSubtitle = "by Gibssss",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "GibssssHub",
        FileName = "SurviveonaraftConfig"
    },
    Discord = {
        Enabled = false,
        Invite = "",
        RememberJoins = false
    },
    KeySystem = false
})

-- Local variable to track toggle state
local autoCollectEnabled = false
local collectingThread = nil

local function startCollecting()
    -- Prevent creating duplicate threads
    if collectingThread then return end

    collectingThread = task.spawn(function()
        while autoCollectEnabled do
            task.wait(0.5)

            local success, err = pcall(function()
                local player = game.Players.LocalPlayer
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end

                for _, obj in ipairs(workspace.World.Items:GetDescendants()) do
                    if obj:GetAttribute("Water") == true 
                       and (string.find(obj.Name, "Box") or string.find(obj.Name, "Chest")) then

                        -- Teleport above the item
                        char.HumanoidRootPart.CFrame = obj.CFrame * CFrame.new(0, 5, 0)
                        
                        -- Collect item
                        local Action = game:GetService("ReplicatedStorage"):FindFirstChild("Action")
                        if Action then
                            Action:InvokeServer("Collect", obj)
                        end

                        break
                    end
                end
            end)

            if not success then warn("[Collect Error]:", err) end
        end

        -- cleanup when stopped
        collectingThread = nil
    end)
end

-- Create Home Tab (Required for Luna)
Window:CreateHomeTab({
    SupportedExecutors = {
        "Synapse X", "Krnl", "Fluxus", "Script-Ware", 
        "Electron", "Solara", "Wave", "Delta", "Xeno"
    },
    DiscordInvite = nil,
    Icon = 1
})

-- Create Tabs
local MainTab = Window:CreateTab({
    Name = "Main",
    Icon = "gps_fixed",
    ImageSource = "Material",
    ShowTitle = true
})

MainTab:CreateSection("Auto Farm")

MainTab:CreateButton({
    Name = "Goto Spawn",
    Description = "click to tp",
    Callback = function()
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(workspace.SpawnLocation.Position)
        game.Players.LocalPlayer.Character.Humanoid.Jump = true
    end
})

MainTab:CreateToggle({
    Name = "Auto Collect Boxes",
    CurrentValue = false,
    Callback = function(state)
        autoCollectEnabled = state

        if state then
            startCollecting()
        end
    end
})

MainTab:CreateSection("Vuln")

MainTab:CreateButton({
    Name = "Upgrade Crafting Table LVL6",
    Description = "click to get",
    Callback = function()
        local MarketplaceService = game:GetService("MarketplaceService")
        local id = game.Players.LocalPlayer.UserId
        
        MarketplaceService:SignalPromptProductPurchaseFinished(id, 3422310969, true)
        MarketplaceService:SignalPromptProductPurchaseFinished(id, 3422310972, true)
        MarketplaceService:SignalPromptProductPurchaseFinished(id, 3422310970, true)
        MarketplaceService:SignalPromptProductPurchaseFinished(id, 3422310971, true)
        MarketplaceService:SignalPromptProductPurchaseFinished(id, 3422310967, true)
    end
})

MainTab:CreateButton({
    Name = "Starter Pistol",
    Description = "click to get",
    Callback = function()
        game:GetService("MarketplaceService"):SignalPromptProductPurchaseFinished(game.Players.LocalPlayer.UserId, 3428925716, true)
        game:GetService("MarketplaceService"):SignalPromptProductPurchaseFinished(game.Players.LocalPlayer.UserId, 3435174070, true)
    end
})

MainTab:CreateButton({
    Name = "Inf Revive",
    Description = "click to get",
    Callback = function()
        game:GetService("MarketplaceService"):SignalPromptProductPurchaseFinished(game.Players.LocalPlayer.UserId, 3421071079, true)
    end
})

MainTab:CreateButton({
    Name = "Inf Jump",
    Description = "click to get",
    Callback = function()
        game:GetService("UserInputService").JumpRequest:Connect(function()
            game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
        end)
    end
})

local MiscTab = Window:CreateTab({
    Name = "Misc",
    Icon = "more_horiz",
    ImageSource = "Material",
    ShowTitle = true
})

MiscTab:CreateSection("Testing")

MiscTab:CreateButton({
    Name = "FE Jerk Tool R6",
    Description = "click to get",
    Callback = function()
        local v1 = game:GetService("Players")
game:GetService("UserInputService")
game:GetService("ReplicatedStorage")
local v_u_2 = v1.LocalPlayer
local function v_u_4()
	-- upvalues: (ref) v_u_2
	local v3 = Instance.new("Tool")
	v3.Name = "Jerk Off By: Gibssssss"
	v3.RequiresHandle = false
	v3.Parent = v_u_2.Backpack
	return v3
end
local v_u_5 = false
local v_u_6 = {}
local function v_u_15(p7, p_u_8, p_u_9, p10)
	-- upvalues: (ref) v_u_2, (ref) v_u_6, (ref) v_u_5
	local v11 = v_u_2.Character
	if v11 then
		v11 = v_u_2.Character:FindFirstChildOfClass("Humanoid")
	end
	if v11 then
		local v12 = Instance.new("Animation")
		v12.AnimationId = "rbxassetid://" .. p7
		local v_u_13 = v11:LoadAnimation(v12)
		v_u_6[p10] = game:GetService("RunService").RenderStepped:Connect(function()
			-- upvalues: (ref) v_u_5, (ref) v_u_13, (ref) p_u_9, (ref) p_u_8
			if v_u_5 then
				if p_u_9 <= v_u_13.TimePosition or v_u_13.IsPlaying == false then
					v_u_13:Play()
					v_u_13.TimePosition = p_u_8
				end
			else
				v_u_13:Stop()
			end
		end)
		local v14 = v_u_13
		v_u_13.Play(v14)
		v_u_13.TimePosition = p_u_8
	else
		warn("Humanoid not found!")
	end
end
local function v_u_16()
	-- upvalues: (ref) v_u_15, (ref) v_u_5
	v_u_15("72042024", 0.5, 0.9, 1)
	v_u_15("168268306", 1, 1.001, 2)
	v_u_5 = true
end
local function v_u_21()
	-- upvalues: (ref) v_u_5, (ref) v_u_6
	v_u_5 = false
	local v17, v18, v19 = pairs(v_u_6)
	while true do
		local v20
		v19, v20 = v17(v18, v19)
		if v19 == nil then
			break
		end
		v20:Disconnect()
	end
	v_u_6 = {}
end
local function v_u_22()
	-- upvalues: (ref) v_u_16
	v_u_16()
end
local function v_u_23()
	-- upvalues: (ref) v_u_21
	v_u_21()
end
v_u_2.CharacterAdded:Connect(function(_)
	-- upvalues: (ref) v_u_2, (ref) v_u_4, (ref) v_u_22, (ref) v_u_23
	if v_u_2.Backpack:FindFirstChild("Jerk Off") then
		v_u_2.Backpack["Jerk Off"]:Destroy()
	end
	local v24 = v_u_4()
	v24.Equipped:Connect(v_u_22)
	v24.Unequipped:Connect(v_u_23)
end)
local v25 = v_u_4()
v25.Equipped:Connect(v_u_22)
v25.Unequipped:Connect(v_u_23)
    end
})

MiscTab:CreateKeybind({
    Name = "Toggle UI",
    CurrentKeybind = "RightShift",
    HoldToInteract = false,
    Flag = "UIKeybind",
    Callback = function(Keybind)
    end,
})

MiscTab:CreateButton({
    Name = "Destroy GUI",
    Callback = function()
        Luna:Destroy()
    end,
})

-- Notifications
Luna:Notification({
    Title = "Gibssss Loaded",
    Content = "Script loaded successfully!",
    Icon = "check_circle",
    ImageSource = "Material"
})
